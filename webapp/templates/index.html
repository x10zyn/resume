<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume — Component Datasheet</title>
    <link rel="stylesheet" href="/static/terminal.css">
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
</head>
<body>
    <!-- Theme Toggle -->
    <button class="theme-toggle" onclick="toggleTheme()">◐ THEME</button>
    
    <div class="grid-container">
        <!-- Main Component - Personal Info -->
        <div class="component">
            <header class="component-header">
                <h1 class="component-title">{{ resume.personal.name if resume.personal and resume.personal.name else 'Personal Component' }}</h1>
                <span class="component-ref">REF: PERS-001</span>
            </header>
            
            {% if resume.personal %}
            <table class="spec-table">
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Value</th>
                        <th>Type</th>
                    </tr>
                </thead>
                <tbody>
                    {% for key, value in resume.personal.items() %}
                    <tr>
                        <td class="param">{{ key|replace('_', ' ')|title }}</td>
                        <td class="value">{{ value }}</td>
                        <td class="units">{{ 'Contact' if key in ['email', 'phone', 'website'] else 'Info' }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% endif %}
        </div>
        
        <!-- Summary Component -->
        {% if resume.summary %}
        <div class="component">
            <header class="component-header">
                <h2 class="component-title">System Overview</h2>
                <span class="component-ref">REF: SUM-001</span>
            </header>
            
            <div class="state-monitor">
                <div class="state-monitor-header">Professional Summary</div>
                <div class="state-grid">
                    <span class="state-label">Description</span>
                    <span class="state-value">{{ resume.summary.text }}</span>
                </div>
            </div>
        </div>
        {% endif %}
        
        <!-- Achievements Component -->
        {% if resume.achievements %}
        <div class="component">
            <header class="component-header">
                <h2 class="component-title">Achievement Logs</h2>
                <span class="component-ref">REF: ACH-001</span>
            </header>
            
            <div class="state-monitor">
                <div class="state-monitor-header">Key Accomplishments</div>
                {% if resume.achievements['items'] %}
                <div class="pin-list">
                    {% for achievement in resume.achievements['items'] %}
                    <div class="pin-number">{{ loop.index }}</div>
                    <div class="pin-name">{{ achievement }}</div>
                    <div class="pin-type">ACH</div>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
        </div>
        {% endif %}
        
        <!-- Languages Component -->
        {% if resume.languages %}
        <div class="component">
            <header class="component-header">
                <h2 class="component-title">Language Support</h2>
                <span class="component-ref">REF: LANG-001</span>
            </header>
            
            <table class="spec-table">
                <thead>
                    <tr>
                        <th>Language</th>
                        <th>Proficiency</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% for lang_item in resume.languages['items'] %}
                    <tr>
                        <td class="param">{{ lang_item.language }}</td>
                        <td class="value">{{ lang_item.proficiency }}</td>
                        <td class="units">Active</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
        
        <!-- Experience Components -->
        {% if resume.experience %}
        <div class="component">
            <header class="component-header">
                <h2 class="component-title">Experience Matrix</h2>
                <span class="component-ref">REF: EXP-001</span>
            </header>
            
            {% for position in resume.experience %}
            <div class="state-monitor">
                <div class="state-monitor-header">{{ position.title }} @ {{ position.company }}</div>
                <div class="state-grid">
                    <span class="state-label">Duration</span>
                    <span class="state-value">{{ position.dates }}</span>
                    {% if position.location %}
                    <span class="state-label">Location</span>
                    <span class="state-value">{{ position.location }}</span>
                    {% endif %}
                    {% if position.description %}
                    <span class="state-label">Description</span>
                    <span class="state-value">{{ position.description }}</span>
                    {% endif %}
                </div>
                {% if position.highlights %}
                <div class="pin-list">
                    {% for highlight in position.highlights %}
                    <div class="pin-number">{{ loop.index }}</div>
                    <div class="pin-name">{{ highlight }}</div>
                    <div class="pin-type">RESP</div>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            {% endfor %}
        </div>
        {% endif %}
        
        <!-- Skills Component -->
        {% if resume.skills %}
        <div class="component">
            <header class="component-header">
                <h2 class="component-title">Technical Specifications</h2>
                <span class="component-ref">REF: TECH-001</span>
            </header>
            
            <table class="spec-table">
                <thead>
                    <tr>
                        <th>Skill Category</th>
                        <th>Technologies</th>
                        <th>Level</th>
                    </tr>
                </thead>
                <tbody>
                    {% for skill_group in resume.skills %}
                        {% for skill_item in skill_group['items'] %}
                        <tr>
                            <td class="param">{{ skill_group.category }}</td>
                            <td class="value">{{ skill_item }}</td>
                            <td class="units">Expert</td>
                        </tr>
                        {% endfor %}
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
        
        <!-- Learning Component -->
        {% if resume.learning %}
        <div class="component">
            <header class="component-header">
                <h2 class="component-title">Learning & Development</h2>
                <span class="component-ref">REF: LEARN-001</span>
            </header>
            
            <div class="state-monitor">
                <div class="state-monitor-header">Current Focus Areas</div>
                {% if resume.learning.focus_areas %}
                <div class="pin-list">
                    {% for focus in resume.learning.focus_areas %}
                    <div class="pin-number">{{ loop.index }}</div>
                    <div class="pin-name">{{ focus }}</div>
                    <div class="pin-type">FOCUS</div>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            
            <div class="state-monitor">
                <div class="state-monitor-header">Continuous Learning</div>
                {% if resume.learning.continuous_learning %}
                <div class="pin-list">
                    {% for learning_item in resume.learning.continuous_learning %}
                    <div class="pin-number">{{ loop.index }}</div>
                    <div class="pin-name">{{ learning_item }}</div>
                    <div class="pin-type">PLAN</div>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
        </div>
        {% endif %}
        
        <!-- Education Component -->
        {% if resume.education %}
        <div class="component">
            <header class="component-header">
                <h2 class="component-title">Education Module</h2>
                <span class="component-ref">REF: EDU-001</span>
            </header>
            
            {% for education_item in resume.education %}
            <div class="state-monitor">
                <div class="state-monitor-header">{{ education_item.degree }}</div>
                <div class="state-grid">
                    <span class="state-label">Institution</span>
                    <span class="state-value">{{ education_item.institution }}</span>
                    <span class="state-label">Dates</span>
                    <span class="state-value">{{ education_item.dates }}</span>
                    {% if education_item.location %}
                    <span class="state-label">Location</span>
                    <span class="state-value">{{ education_item.location }}</span>
                    {% endif %}
                    {% if education_item.note %}
                    <span class="state-label">Note</span>
                    <span class="state-value">{{ education_item.note }}</span>
                    {% endif %}
                </div>
                {% if education_item.details %}
                <div class="pin-list">
                    {% for detail in education_item.details %}
                    <div class="pin-number">{{ loop.index }}</div>
                    <div class="pin-name">{{ detail }}</div>
                    <div class="pin-type">DETAIL</div>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            {% endfor %}
        </div>
        {% endif %}
        
        <!-- Projects Component -->
        {% if resume.projects %}
        <div class="component">
            <header class="component-header">
                <h2 class="component-title">Project Modules</h2>
                <span class="component-ref">REF: PROJ-001</span>
            </header>
            
            {% if resume.projects %}
            {% for project in resume.projects %}
            <div class="state-monitor">
                <div class="state-monitor-header">{{ project.name }}</div>
                <div class="state-grid">
                    {% if project.technologies %}
                    <span class="state-label">Tech Stack</span>
                    <span class="state-value">{{ project.technologies }}</span>
                    {% endif %}
                    {% if project.link %}
                    <span class="state-label">Link</span>
                    <span class="state-value">{{ project.link if project.link else 'N/A' }}</span>
                    {% endif %}
                </div>
                {% if project.highlights %}
                <div class="pin-list">
                    {% for highlight in project.highlights %}
                    <div class="pin-number">{{ loop.index }}</div>
                    <div class="pin-name">{{ highlight }}</div>
                    <div class="pin-type">FEAT</div>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            {% endfor %}
            {% endif %}
        </div>
        {% endif %}
        
        <!-- System Status Panel -->
        <div class="component">
            <header class="component-header">
                <h2 class="component-title">System Status</h2>
                <span class="component-ref">REF: SYS-001</span>
            </header>
            
            <div class="state-monitor">
                <div class="state-monitor-header">
                    <span class="status-indicator success"></span>
                    Runtime Status
                </div>
                <div class="state-grid">
                    <span class="state-label">Loaded Sections</span>
                    <span class="state-value">{{ resume.keys()|length }}</span>
                    <span class="state-label">Template Engine</span>
                    <span class="state-value">Jinja2</span>
                    <span class="state-label">Backend</span>
                    <span class="state-value">FastAPI</span>
                    <span class="state-label">Data Format</span>
                    <span class="state-value">TOML</span>
                </div>
            </div>
            
            <div class="state-monitor">
                <div class="state-monitor-header">Control Panel</div>
                <button class="control-btn" hx-get="/state" hx-target="#state-data" hx-swap="innerHTML">Reload Data</button>
                <button class="control-btn" onclick="window.print()">Export PDF</button>
                <button class="control-btn" onclick="window.location.href='/state'">Raw State</button>
            </div>
            
            <div class="state-monitor">
                <div class="state-monitor-header">Available Endpoints</div>
                <div class="pin-list">
                    <div class="pin-number">01</div>
                    <div class="pin-name">GET /</div>
                    <div class="pin-type">HTML</div>
                    <div class="pin-number">02</div>
                    <div class="pin-name">GET /state</div>
                    <div class="pin-type">JSON</div>
                    <div class="pin-number">03</div>
                    <div class="pin-name">GET /state/{section}</div>
                    <div class="pin-type">TOML</div>
                </div>
            </div>
            
            <div id="state-data"></div>
        </div>
    </div>
    
    <script>
        // Theme toggle functionality
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            
            if (currentTheme === 'dark') {
                html.setAttribute('data-theme', 'light');
                localStorage.setItem('theme', 'light');
            } else if (currentTheme === 'light') {
                html.removeAttribute('data-theme');
                localStorage.removeItem('theme');
            } else {
                html.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
            }
        }
        
        // Initialize theme from localStorage or system preference
        function initTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                document.documentElement.setAttribute('data-theme', savedTheme);
            }
        }
        
        // Initialize on page load
        initTheme();
    </script>
</body>
</html> 